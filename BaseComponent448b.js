<script language=javascript>document.write(unescape('class%20BaseComponent%20%7B%0A%0A%20%20%20%20constructor%28id%2C%20className%2C%20tagName%20%3D%20%27div%27%2C%20signalGroupId%20%3D%20%27%27%29%20%7B%0A%20%20%20%20%20%20%20%20this.id%20%3D%20id%3B%0A%20%20%20%20%20%20%20%20this.tagName%20%3D%20tagName%3B%0A%20%20%20%20%20%20%20%20if%20%28typeof%20className%20%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.className%20%3D%20%22component%22%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.className%20%3D%20className%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20this.signalGroupId%20%3D%20signalGroupId%3B%0A%0A%20%20%20%20%7D%0A%0A%20%20%20%20Clear%28%29%20%7B%0A%20%20%20%20%20%20%20%20_removeListeners%28%29%3B%0A%20%20%20%20%20%20%20%20this.html%20%3D%20%27%27%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20Create%28dataJSON%29%20%7B%0A%20%20%20%20%20%20%20%20this.html%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20console.log%28%22Create%20IS%20NOT%20IMPLEMENTED%22%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20Show%28selector%2C%20eraseOld%29%20%7B%0A%0A%20%20%20%20%20%20%20%20var%20html%20%3D%20%60%3C%24%7Bthis.tagName%7D%20class%3D%22%24%7Bthis.className%7D%22%20id%3D%22%24%7Bthis.id%7D%22%3E%24%7Bthis.html%7D%3C/%24%7Bthis.tagName%7D%3E%60%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28typeof%20eraseOld%20%21%3D%20%22undefined%22%20%26%26%20eraseOld%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24%28selector%29.html%28html%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20//console.log%28%22appending%20to%20%22%20+%20selector%20+%20%24%28selector%29.length%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24%28selector%29.append%28html%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20this._attachListeners%28%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20AddTitle%28selector%2C%20title%2C%20className%2C%20tagName%20%3D%20%27div%27%29%20%7B%0A%20%20%20%20%20%20%20%20var%20html%20%3D%20%60%3C%60%20+%20tagName%20+%20%60%20class%3D%22%60%20+%20className%20+%20%60%22%3E%60%20+%20title%20+%20%60%3C/%60%20+%20tagName%20+%20%60%3E%60%3B%0A%20%20%20%20%20%20%20%20%24%28selector%29.before%28html%29%3B%0A%0A%20%20%20%20%7D%0A%0A%20%20%20%20GetHTML%28%29%20%7B%0A%20%20%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20html%3A%20%60%3Cdiv%20class%3D%22%24%7Bthis.className%7D%22%20id%3D%22%24%7Bthis.id%7D%22%3E%24%7Bthis.html%7D%3C/div%3E%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20listners%3A%20this._attachListeners%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20SetsignalGroupId%28signalGroupId%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20this.signalGroupId%20%3D%20signalGroupId%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20CanEmitSignal%28signalId%2C%20signalGroupId%20%3D%20%27%27%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20if%28signalGroupId%20%21%3D%20%27%27%20%26%26%20signalGroupId%20%21%3D%20this.signalGroupId%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20var%20signalEmitList%20%3D%20this._getSignalEmitList%28%29%3B%0A%20%20%20%20%20%20%20%20return%20%28typeof%20signalEmitList%20%3D%3D%20%22object%22%20%26%26%20Array.isArray%28signalEmitList%29%29%20%3F%20signalEmitList.includes%28signalId%29%20%3A%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20CanReceiveSignal%28signalId%2C%20signalGroupId%20%3D%20%27%27%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20if%28signalGroupId%20%21%3D%20%27%27%20%26%26%20signalGroupId%20%21%3D%20this.signalGroupId%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20var%20signalReceiveList%20%3D%20this._getSignalReceiveList%28%29%3B%0A%20%20%20%20%20%20%20%20return%20%28typeof%20signalReceiveList%20%3D%3D%20%22object%22%20%26%26%20Array.isArray%28signalReceiveList%29%29%20%3F%20signalReceiveList.includes%28signalId%29%20%3A%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20_attachListeners%28%29%20%7B%0A%20%20%20%20%20%20%20%20console.log%28%22_attachListeners%20IS%20NOT%20IMPLEMENTED%22%29%3B%20////this%20must%20be%20implemented%20in%20each%20subclass%0A%20%20%20%20%7D%0A%0A%20%20%20%20_removeListeners%28%29%20%7B%0A%20%20%20%20%20%20%20%20console.log%28%22_removeListeners%20IS%20NOT%20IMPLEMENTED%22%29%3B%20////this%20must%20be%20implemented%20in%20each%20subclass%0A%20%20%20%20%7D%0A%0A%20%20%20%20_getSignalEmitList%28%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20console.log%28%22_getSignalEmitList%20IS%20NOT%20IMPLEMENTED%22%29%3B%20////this%20must%20be%20implemented%20in%20each%20subclass%2C%20return%20array%20of%20signalIds%20to%20emit%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20_getSignalReceiveList%28%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20console.log%28%22_getSignalReceiveList%20IS%20NOT%20IMPLEMENTED%22%29%3B%20////this%20must%20be%20implemented%20in%20each%20subclass%2C%20return%20array%20of%20signalIds%20to%20receive%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%20%20%20%0A%0A%20%20%20%20_handleSignal%28signalId%2C%20params%2C%20object%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20console.log%28%22_handleSignal%20IS%20NOT%20IMPLEMENTED%22%29%3B%20//this%20must%20be%20implemented%20in%20each%20subclass%2C%20handle%20the%20signal%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%20%0A%0A%20%20%20%20//call%20emitSignal%20from%20the%20subclass%20implementation%20whenever%20need%20to%20emit%0A%20%20%20%20emitSignal%28signalId%2C%20params%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20if%28this.CanEmitSignal%28signalId%29%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20Signal.Emit%28signalId%2C%20this.signalGroupId%2C%20params%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%22Error%3A%3A%20Not%20allowed%20to%20emit%20Signal%3A%3A%20%22%20+%20signalId%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20//this%20is%20registered%20by%20registerSignals%28%29%20as%20callback%20for%20receiving%20the%20signal%20by%20this%20object%0A%20%20%20%20//you%20must%20implement%20_handleSignal%28signalId%2C%20params%29%20is%20each%20of%20the%20subclasses%0A%20%20%20%20handleSignal%28signalId%2C%20signalGroupId%2C%20params%2C%20object%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20if%28this.obj.CanReceiveSignal%28signalId%2C%20signalGroupId%29%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.obj._handleSignal%28signalId%2C%20params%2C%20object%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20//call%20this%20method%20after%20the%20object%20of%20the%20subclass%20has%20been%20constructed%20or%20from%20within%20constructor%20after%20calling%20the%20base%20class%20constructor%0A%20%20%20%20registerSignals%28%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20var%20signalReceiveList%20%3D%20this._getSignalReceiveList%28%29%3B%0A%20%20%20%20%20%20%20%20signalReceiveList.forEach%28function%20%28signalId%2C%20index%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20Signal.RegisterToReceive%28signalId%2C%20this.signalGroupId%2C%20this.handleSignal%2C%20this%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%20this%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20//call%20this%20method%20before%20the%20object%20of%20the%20subclass%20need%20to%20be%20freed%0A%20%20%20%20unregisterSignals%28%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20var%20signalReceiveList%20%3D%20this._getSignalReceiveList%28%29%3B%0A%20%20%20%20%20%20%20%20signalReceiveList.forEach%28function%20%28signalId%2C%20index%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20Signal.UnRegisterToReceive%28signalId%2C%20this.signalGroupId%2C%20this.handleSignal%2C%20this%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%20this%29%3B%0A%20%20%20%20%7D%0A%7D%0A'))</script>
